2025-05-24 16:07:37,050 - VisualChainApp - INFO - main_orchestrator.main:147 - --- Starting Visual Chain Generation (Verification: DeepFace Multi-Model) ---
2025-05-24 16:07:37,051 - VisualChainApp - INFO - main_orchestrator.main:148 - Person A: Winston Churchill
2025-05-24 16:07:37,051 - VisualChainApp - INFO - main_orchestrator.main:149 - Person B: James Charles
2025-05-24 16:07:37,051 - VisualChainApp - INFO - main_orchestrator.main:152 - --- Cleaning up previous output directories ---
2025-05-24 16:07:37,051 - VisualChainApp - INFO - main_orchestrator.clean_output_directory:81 - Cleaning contents of directory: output/connection_chain_images
2025-05-24 16:07:37,059 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Eleanor_Roosevelt_Jackie_Kennedy_Onassis
2025-05-24 16:07:37,062 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Eleanor_Roosevelt_Various_Talk_Show_Hosts
2025-05-24 16:07:37,066 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Winston_Churchill_Franklin_D._Roosevelt
2025-05-24 16:07:37,071 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Eleanor_Roosevelt_Lyndon_B._Johnson
2025-05-24 16:07:37,073 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Franklin_D._Roosevelt_Eleanor_Roosevelt
2025-05-24 16:07:37,076 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Winston_Churchill_Oprah_Winfrey
2025-05-24 16:07:37,081 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Franklin_D._Roosevelt_Oprah_Winfrey
2025-05-24 16:07:37,135 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:90 -   Deleted directory and its contents: output/connection_chain_images/Eleanor_Roosevelt_Oprah_Winfrey
2025-05-24 16:07:37,135 - VisualChainApp - INFO - main_orchestrator.clean_output_directory:93 - Finished cleaning directory: output/connection_chain_images
2025-05-24 16:07:37,135 - VisualChainApp - INFO - main_orchestrator.clean_output_directory:81 - Cleaning contents of directory: output/connection_chain_images_verified
2025-05-24 16:07:37,136 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:87 -   Deleted file/link: output/connection_chain_images_verified/02_Franklin_D._Roosevelt_to_Eleanor_Roosevelt.jpg
2025-05-24 16:07:37,136 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:87 -   Deleted file/link: output/connection_chain_images_verified/01_Winston_Churchill_to_Franklin_D._Roosevelt.jpg
2025-05-24 16:07:37,136 - VisualChainApp - INFO - main_orchestrator.clean_output_directory:93 - Finished cleaning directory: output/connection_chain_images_verified
2025-05-24 16:07:37,136 - VisualChainApp - INFO - main_orchestrator.clean_output_directory:81 - Cleaning contents of directory: output/temp_files
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:87 -   Deleted file/link: output/temp_files/sub_chain_attempt_Winston_Churchill_to_James_Charles_1.xml
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:87 -   Deleted file/link: output/temp_files/initial_full_chain_attempt_1.xml
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:87 -   Deleted file/link: output/temp_files/sub_chain_attempt_Eleanor_Roosevelt_to_James_Charles_1.xml
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.clean_output_directory:87 -   Deleted file/link: output/temp_files/sub_chain_attempt_Franklin_D._Roosevelt_to_James_Charles_1.xml
2025-05-24 16:07:37,137 - VisualChainApp - INFO - main_orchestrator.clean_output_directory:93 - Finished cleaning directory: output/temp_files
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.load_prompt_template:96 - Attempting to load prompt template from: prompts/system_prompt.txt
2025-05-24 16:07:37,137 - VisualChainApp - INFO - main_orchestrator.load_prompt_template:100 - Prompt template loaded successfully from prompts/system_prompt.txt
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.load_prompt_template:96 - Attempting to load prompt template from: prompts/initial_user_input_template.xml
2025-05-24 16:07:37,137 - VisualChainApp - INFO - main_orchestrator.load_prompt_template:100 - Prompt template loaded successfully from prompts/initial_user_input_template.xml
2025-05-24 16:07:37,137 - VisualChainApp - DEBUG - main_orchestrator.load_prompt_template:96 - Attempting to load prompt template from: prompts/initial_chain_retry_user_input_template.xml
2025-05-24 16:07:37,138 - VisualChainApp - INFO - main_orchestrator.load_prompt_template:100 - Prompt template loaded successfully from prompts/initial_chain_retry_user_input_template.xml
2025-05-24 16:07:37,138 - VisualChainApp - DEBUG - main_orchestrator.load_prompt_template:96 - Attempting to load prompt template from: prompts/retry_user_input_template.xml
2025-05-24 16:07:37,138 - VisualChainApp - INFO - main_orchestrator.load_prompt_template:100 - Prompt template loaded successfully from prompts/retry_user_input_template.xml
2025-05-24 16:07:37,138 - VisualChainApp - DEBUG - main_orchestrator.load_prompt_template:96 - Attempting to load prompt template from: prompts/sub_chain_exclusion_instruction_template.txt
2025-05-24 16:07:37,138 - VisualChainApp - INFO - main_orchestrator.load_prompt_template:100 - Prompt template loaded successfully from prompts/sub_chain_exclusion_instruction_template.txt
2025-05-24 16:07:37,138 - VisualChainApp - INFO - main_orchestrator.main:178 - --- Step 1: Requesting Initial Full Connection Chain from Gemini ---
2025-05-24 16:07:37,138 - VisualChainApp - INFO - main_orchestrator.main:183 - Initial full chain generation attempt 1/2
2025-05-24 16:07:37,138 - VisualChainApp - INFO - initial_gemini_query.get_initial_chain:110 - Requesting chain: Winston Churchill -> ... -> James Charles.
2025-05-24 16:07:37,138 - VisualChainApp - INFO - initial_gemini_query._load_gemini_task_header:13 - Gemini task header loaded from prompts/gemini_task_header.txt
2025-05-24 16:07:37,139 - VisualChainApp - INFO - initial_gemini_query.get_initial_chain_from_gemini_direct:50 - Querying Gemini with pre-formatted user input for a chain.
2025-05-24 16:07:37,139 - VisualChainApp - DEBUG - initial_gemini_query.get_initial_chain_from_gemini_direct:73 - User input XML for Gemini (part of full prompt):
## Task Execution
Now, using the rules, input format, and output formats defined above, please process the following connection request to find a full chain:<connection_request>
  <person1>Winston Churchill</person1>
  <person2>James Charles</person2>
  <additional_instructions></additional_instructions> 
  <!-- This will be empty for the first call, or contain exclusion for sub-chain calls -->
</connection_request>
2025-05-24 16:07:37,139 - VisualChainApp - INFO - initial_gemini_query.get_initial_chain_from_gemini_direct:74 - --- Sending to Gemini (initial_gemini_query.get_initial_chain_from_gemini_direct) ---
